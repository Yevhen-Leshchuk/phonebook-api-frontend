"use strict";(self.webpackChunkphonebook_api_frontend=self.webpackChunkphonebook_api_frontend||[]).push([[518],{7162:function(e,t,n){n.r(t),n.d(t,{default:function(){return V}});var a="Section_section__Z2PLw",s="Section_title__SLHvV",r=n(184),o=function(e){var t=e.title,n=e.children;return(0,r.jsxs)("section",{className:a,children:[(0,r.jsx)("h2",{className:s,children:t}),n]})},i=n(885),c=n(5705),l=n(3284),d=n(5984),u=n(6708),m=(n(8435),n(1525),n(4903)),h=n(3545),_="LoaderButton_LoaderBox__mLRs9",x=function(){return(0,r.jsx)("div",{className:_,children:(0,r.jsx)(h.s5,{strokeColor:"#1b1b1c",width:30,height:30})})},j="ContactForm_form__dhl+T",p="ContactForm_label__-cVXI",f="ContactForm_nameLabel__+PeHB ContactForm_label__-cVXI",C="ContactForm_input__Bl93P",b="ContactForm_button__eSwX9",v="ContactForm_TextButton__CdDdt",N="ContactForm_error__C1smZ",F=l.Ry({name:l.Z_().min(3,"must be at least 3 characters long").max(10,"must  be no more than 10 characters long").required("Required"),phone:l.Z_().min(7,"must be 7 characters long").required("Required")});function L(){var e=(0,m.Jx)().data,t=(0,m.Tn)(),n=(0,i.Z)(t,2),a=n[0],s=n[1].isLoading,o=(0,d.x0)(),l=(0,d.x0)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c.J9,{initialValues:{name:"",phone:""},validationSchema:F,onSubmit:function(t,n){var s=n.resetForm;!function(t){var n=t.toLowerCase();return null===e||void 0===e?void 0:e.find((function(e){return e.name.toLowerCase()===n}))}(t.name)?!function(t){var n=t;return null===e||void 0===e?void 0:e.find((function(e){return e.phone===n}))}(t.phone)?(a(t),(0,u.success)({text:"Contact added successfully!",width:"370px"}),s()):(0,u.notice)({text:"This phone already exists",width:"370px"}):(0,u.notice)({text:"This name already exists",width:"370px"})},children:(0,r.jsxs)(c.l0,{className:j,children:[(0,r.jsx)("label",{className:f,htmlFor:o,children:"Name"}),(0,r.jsx)(c.gN,{className:C,type:"text",name:"name",placeholder:"Name",id:o}),(0,r.jsx)("p",{className:N,children:(0,r.jsx)(c.Bc,{name:"name"})}),(0,r.jsx)("label",{className:p,htmlFor:l,children:"Phone"}),(0,r.jsx)(c.gN,{className:C,type:"tel",name:"phone",placeholder:"Phone",id:l}),(0,r.jsx)("p",{className:N,children:(0,r.jsx)(c.Bc,{name:"phone"})}),(0,r.jsxs)("button",{className:b,type:"submit",disabled:s,children:[(0,r.jsx)("span",{className:v,children:"Add contact"}),s&&(0,r.jsx)(x,{})]})]})})})}var g=n(1413),w=n(2791),y=n(7108),k="ContactListItem_item__UAAix",B="ContactListItem_itemNumber__2jtdq",Z="ContactListItem_button__SG6H2",S="ContactListItem_TextButton__X2oJz",T=function(e){var t=e.name,n=e.phone,a=e.id,s=(0,m.Nt)(),o=(0,i.Z)(s,2),c=o[0],l=o[1].isLoading;return(0,r.jsxs)("li",{className:k,children:[t,":",(0,r.jsx)("span",{className:B,children:n}),(0,r.jsxs)("button",{className:Z,type:"button",onClick:function(){c(a),(0,u.success)({text:"Contact successfully removed!",width:"370px"})},disabled:l,children:[(0,r.jsx)("span",{className:S,children:"Delete"}),l&&(0,r.jsx)(x,{})]})]},t)},I="Filter_label__vEd1E",P="Filter_input__N7T3z";function q(e){var t=e.onChange,n=e.filter;return(0,r.jsxs)("label",{className:I,children:["Find contacts by name",(0,r.jsx)("input",{className:P,type:"text",value:n,placeholder:"Find contacts by name",onChange:t})]})}var J="ContactList_error__uCB2f",R=function(){var e=(0,m.Jx)(),t=e.data,n=e.error,a=e.isFetching,s=e.isError,o=(0,w.useState)(""),c=(0,i.Z)(o,2),l=c[0],d=c[1],u=function(){var e=l.toLowerCase();return null===t||void 0===t?void 0:t.filter((function(t){return t.name.toLowerCase().includes(e)}))}(),h=u&&!n,_=s&&404===n.status;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{onChange:function(e){var t=e.currentTarget.value;d(t)},filter:l}),(0,r.jsxs)("ul",{children:[a&&(0,r.jsx)(y.Z,{}),_&&(0,r.jsx)("h1",{className:J,children:"Contacts not found!"}),h&&u.map((function(e){return(0,r.jsx)(T,(0,g.Z)({},e),e.id)}))]})]})},V=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o,{title:"Phonebook",children:(0,r.jsx)(L,{})}),(0,r.jsx)(o,{title:"Contacts",children:(0,r.jsx)(R,{})})]})}}}]);
//# sourceMappingURL=ContactsPage.e95b28ed.chunk.js.map