"use strict";(self.webpackChunkphonebook_api_frontend=self.webpackChunkphonebook_api_frontend||[]).push([[518],{3724:function(t,e,n){n.d(e,{Z:function(){return I}});var s=n(1413),a=n(885),o=n(6871),c=n(2791),i=n(5705),r=n(3284),l=n(5984),u=n(1538),d=n(7211),m=n(3541),_=n(219),h="ContactForm_contactFormBox__f55xA",x="ContactForm_title__jZguf",f="ContactForm_form__dhl+T",v="ContactForm_label__-cVXI",C="ContactForm_nameLabel__+PeHB ContactForm_label__-cVXI",j="ContactForm_input__Bl93P",p="ContactForm_button__eSwX9",N="ContactForm_textButton__zEgj3",b="ContactForm_error__C1smZ",g=n(3329),L=r.Ry({name:r.Z_().min(3,"must be at least 3 characters long").max(10,"must  be no more than 10 characters long").required("Required"),number:r.Z_().min(7,"must be 7 characters long").max(10,"must  be no more than 10 characters long").required("Required")});function I(t){var e=t.id,n=(0,o.s0)(),r=(0,m.e9)({fixedCacheKey:"shared-logIn"}),I=(0,a.Z)(r,2),Z=I[0],F=I[1].data;console.log(Z);var w=null===F||void 0===F?void 0:F.token,y=(0,u.Jx)(w).data,k=(0,u.Tn)(),B=(0,a.Z)(k,2),q=B[0],A=B[1],S=A.data,T=A.isLoading,J=(0,u.wv)(),E=(0,a.Z)(J,2),P=E[0],X=E[1].originalArgs,K=(0,l.x0)(),V=(0,l.x0)();(0,c.useEffect)((function(){S&&(0,d.rY)()}),[S]),(0,c.useEffect)((function(){X&&(0,d.pK)()}),[X]);var H={name:"",number:"",token:w};return(0,g.jsxs)("div",{className:h,children:[(0,g.jsx)("h2",{className:x,children:"Phonebook"}),(0,g.jsx)(i.J9,{initialValues:H,validationSchema:L,onSubmit:function(t,a){var o=a.resetForm,c=(0,s.Z)((0,s.Z)({},t),{},{id:e});if(void 0!==c.id)P(c),n("/contacts"),o();else{if(function(t){var e=t.toLowerCase();return null===y||void 0===y?void 0:y.find((function(t){return t.name.toLowerCase()===e}))}(t.name))return void(0,d.Bh)();if(function(t){var e=t;return null===y||void 0===y?void 0:y.find((function(t){return t.number===e}))}(t.number))return void(0,d.BX)();q(t)}o()},children:(0,g.jsxs)(i.l0,{className:f,children:[(0,g.jsx)("label",{className:C,htmlFor:K,children:"Name"}),(0,g.jsx)(i.gN,{className:j,type:"text",name:"name",placeholder:"Name",id:K}),(0,g.jsx)("p",{className:b,children:(0,g.jsx)(i.Bc,{name:"name"})}),(0,g.jsx)("label",{className:v,htmlFor:V,children:"Phone"}),(0,g.jsx)(i.gN,{className:j,type:"tel",name:"number",placeholder:"Phone",id:V}),(0,g.jsx)("p",{className:b,children:(0,g.jsx)(i.Bc,{name:"number"})}),(0,g.jsxs)("button",{className:p,type:"submit",disabled:T,children:[(0,g.jsx)("span",{className:N,children:"Save contact"}),T&&(0,g.jsx)(_.Z,{})]})]})})]})}},219:function(t,e,n){n.d(e,{Z:function(){return o}});var s=n(3545),a=n(3329),o=function(){return(0,a.jsx)("div",{children:(0,a.jsx)(s.s5,{strokeColor:"#204454",width:30,height:30})})}},7211:function(t,e,n){n.d(e,{Bh:function(){return a},BX:function(){return o},rY:function(){return c},pK:function(){return i},u4:function(){return r},fA:function(){return l},Y6:function(){return u},SC:function(){return d},Wr:function(){return m}});var s=n(6708),a=(n(8435),n(1525),function(){(0,s.notice)({text:"This name already exists",width:"370px"})}),o=function(){(0,s.notice)({text:"This phone already exists",width:"370px"})},c=function(){(0,s.success)({text:"Contact added successfully!",width:"370px"})},i=function(){(0,s.success)({text:"Contact successfully updated!",width:"370px"})},r=function(){(0,s.success)({text:"Contact successfully removed!",width:"370px"})},l=function(){(0,s.success)({text:"Welcome to the phonebook!",width:"370px"})},u=function(){(0,s.success)({text:"You are successfully registered! To enter the phonebook, please sign in.",width:"370px"})},d=function(){(0,s.error)({text:"This user already exists!",width:"370px"})},m=function(){(0,s.error)({text:"Incorrect email or password!",width:"370px"})}},4836:function(t,e,n){n.d(e,{Z:function(){return a}});var s=n(3329),a=function(t){var e=t.children;return(0,s.jsx)("section",{children:e})}},1707:function(t,e,n){n.r(e),n.d(e,{default:function(){return J}});var s=n(4836),a=n(3724),o=n(1413),c=n(885),i=n(2791),r=n(1538),l=n(3541),u=n(7108),d=n(6871),m=n(5048),_=n(2125),h=n(7211),x=n(219),f="ContactListItem_item__UAAix",v="ContactListItem_itemName__J6Aq+",C="ContactListItem_itemNumber__2jtdq ContactListItem_itemName__J6Aq+",j="ContactListItem_titleName__nU89I ContactListItem_itemName__J6Aq+",p="ContactListItem_titleNumber__-+Vht ContactListItem_itemName__J6Aq+",N="ContactListItem_contactsListItemButtonBox__lcVD6",b="ContactListItem_button__SG6H2",g="ContactListItem_buttonEdit__aD2No ContactListItem_button__SG6H2",L="ContactListItem_textButton__giSzf",I=n(3329),Z=function(t){var e=t.name,n=t.number,s=t.id,a=(0,d.s0)(),o=(0,l.e9)({fixedCacheKey:"shared-logIn"}),i=(0,c.Z)(o,2),u=i[0],Z=i[1].data;console.log(u);var F=null===Z||void 0===Z?void 0:Z.token,w=(0,r.Nt)(),y=(0,c.Z)(w,2),k=y[0],B=y[1].isLoading,q=(0,m.I0)(),A={id:s,token:F};return(0,I.jsxs)("li",{className:f,children:[(0,I.jsxs)("div",{children:[(0,I.jsx)("p",{className:j,children:" Name:"}),(0,I.jsx)("p",{className:p,children:"Number:"})]}),(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{className:v,children:[" ",e]}),(0,I.jsx)("p",{className:C,children:n})]}),(0,I.jsxs)("div",{className:N,children:[(0,I.jsxs)("button",{className:b,type:"button",onClick:function(){k(A),(0,h.u4)()},disabled:B,children:[(0,I.jsx)("span",{className:L,children:"Delete"}),B&&(0,I.jsx)(x.Z,{})]}),(0,I.jsx)("button",{className:g,type:"button",onClick:function(){q((0,_.T)(s)),a("/contacts-update")},children:(0,I.jsx)("span",{className:L,children:"Edit"})})]})]},e)},F="Filter_label__vEd1E",w="Filter_input__N7T3z";function y(t){var e=t.onChange,n=t.filter;return(0,I.jsxs)("label",{className:F,children:["Find contacts by name",(0,I.jsx)("input",{className:w,type:"text",value:n,placeholder:"Find contacts by name",onChange:e})]})}var k="ContactList_contactsListBox__RlsXq",B="ContactList_title__gpugJ",q="ContactList_contactsBox__H9Ugp",A="ContactList_error__uCB2f",S=function(){var t=(0,i.useState)(""),e=(0,c.Z)(t,2),n=e[0],s=e[1],a=(0,l.e9)({fixedCacheKey:"shared-logIn"}),d=(0,c.Z)(a,2),m=d[0],_=d[1].data;console.log(m);var h=null===_||void 0===_?void 0:_.token,x=(0,r.Jx)(h),f=x.data,v=x.isFetching,C=function(){var t=n.toLowerCase();return null===f||void 0===f?void 0:f.filter((function(e){return e.name.toLowerCase().includes(t)}))}(),j=0===(null===C||void 0===C?void 0:C.length);return(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)("div",{className:k,children:[(0,I.jsx)("h2",{className:B,children:"Contacts"}),(0,I.jsx)(y,{onChange:function(t){var e=t.currentTarget.value;s(e)},filter:n}),(0,I.jsxs)("ul",{className:q,children:[v&&(0,I.jsx)(u.Z,{}),j&&(0,I.jsx)("h1",{className:A,children:"Contacts not found!"}),C&&C.map((function(t){return(0,I.jsx)(Z,(0,o.Z)({},t),t.id)}))]})]})})},T="ContactsPage_contactsBox__fFIei",J=function(){return(0,I.jsxs)("div",{className:T,children:[(0,I.jsx)(s.Z,{children:(0,I.jsx)(a.Z,{})}),(0,I.jsx)(s.Z,{children:(0,I.jsx)(S,{})})]})}}}]);
//# sourceMappingURL=ContactsPage.c4a4d3be.chunk.js.map