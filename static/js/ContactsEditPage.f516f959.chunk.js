"use strict";(self.webpackChunkphonebook_api_frontend=self.webpackChunkphonebook_api_frontend||[]).push([[526],{3724:function(e,n,t){t.d(n,{Z:function(){return N}});var a=t(1413),r=t(885),o=t(2791),s=t(6871),i=t(5705),c=t(3284),l=t(5984),u=t(6708),d=(t(8435),t(1525),t(1538)),m=t(3541),h=t(9649),f="ContactForm_form__dhl+T",x="ContactForm_label__-cVXI",_="ContactForm_nameLabel__+PeHB ContactForm_label__-cVXI",v="ContactForm_input__Bl93P",b="ContactForm_button__eSwX9",p="ContactForm_TextButton__CdDdt",j="ContactForm_error__C1smZ",C=t(3329),Z=c.Ry({name:c.Z_().min(3,"must be at least 3 characters long").max(10,"must  be no more than 10 characters long").required("Required"),number:c.Z_().min(7,"must be 7 characters long").max(10,"must  be no more than 10 characters long").required("Required")});function N(e){var n=e.name,t=e.number,c=e.id,N=(0,o.useState)(""),g=(0,r.Z)(N,2),F=(g[0],g[1]),w=(0,o.useState)(""),S=(0,r.Z)(w,2),k=(S[0],S[1]),y=(0,s.s0)();(0,o.useEffect)((function(){F(n),k(t)}),[n,t]);var L=(0,m.e9)({fixedCacheKey:"shared-logIn"}),B=(0,r.Z)(L,2),P=(B[0],B[1].data),I=null===P||void 0===P?void 0:P.token,T=(0,d.Jx)(I).data,q=(0,d.Tn)(),J=(0,r.Z)(q,2),R=J[0],V=J[1].isLoading,X=(0,d.wv)(),E=(0,r.Z)(X,1)[0],H=(0,l.x0)(),K=(0,l.x0)();return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(i.J9,{initialValues:{name:"",number:"",token:I},validationSchema:Z,onSubmit:function(e,n){var t=n.resetForm,r=(0,a.Z)((0,a.Z)({},e),{},{id:c});if(void 0!==r.id)E(r),(0,u.success)({text:"Contact successfully updated!",width:"370px"}),y("/contacts"),t();else{if(function(e){var n=e.toLowerCase();return null===T||void 0===T?void 0:T.find((function(e){return e.name.toLowerCase()===n}))}(e.name))return void(0,u.notice)({text:"This name already exists",width:"370px"});if(function(e){var n=e;return null===T||void 0===T?void 0:T.find((function(e){return e.number===n}))}(e.number))return void(0,u.notice)({text:"This phone already exists",width:"370px"});R(e),(0,u.success)({text:"Contact added successfully!",width:"370px"})}t()},children:(0,C.jsxs)(i.l0,{className:f,children:[(0,C.jsx)("label",{className:_,htmlFor:H,children:"Name"}),(0,C.jsx)(i.gN,{className:v,type:"text",name:"name",placeholder:"Name",id:H}),(0,C.jsx)("p",{className:j,children:(0,C.jsx)(i.Bc,{name:"name"})}),(0,C.jsx)("label",{className:x,htmlFor:K,children:"Phone"}),(0,C.jsx)(i.gN,{className:v,type:"tel",name:"number",placeholder:"Phone",id:K}),(0,C.jsx)("p",{className:j,children:(0,C.jsx)(i.Bc,{name:"number"})}),(0,C.jsxs)("button",{className:b,type:"submit",disabled:V,children:[(0,C.jsx)("span",{className:p,children:"Save contact"}),V&&(0,C.jsx)(h.Z,{})]})]})})})}},9649:function(e,n,t){t.d(n,{Z:function(){return s}});var a=t(3545),r="LoaderButton_LoaderBox__mLRs9",o=t(3329),s=function(){return(0,o.jsx)("div",{className:r,children:(0,o.jsx)(a.s5,{strokeColor:"#1b1b1c",width:30,height:30})})}},4240:function(e,n,t){t.d(n,{Z:function(){return s}});var a="Section_section__Z2PLw",r="Section_title__SLHvV",o=t(3329),s=function(e){var n=e.title,t=e.children;return(0,o.jsxs)("section",{className:a,children:[(0,o.jsx)("h2",{className:r,children:n}),t]})}},5046:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var a=t(1413),r=t(885),o=t(2791),s=t(4240),i=t(3724),c=t(1538),l=t(3541),u=t(3329),d=function(){var e=(0,o.useState)(null),n=(0,r.Z)(e,2),t=n[0],d=n[1],m=(0,l.e9)({fixedCacheKey:"shared-logIn"}),h=(0,r.Z)(m,2),f=(h[0],h[1].data),x=null===f||void 0===f?void 0:f.token,_=(0,c.Jx)(x).data;return(0,o.useEffect)((function(){var e=localStorage.getItem("persist:updateContact"),n=function(e){return null===_||void 0===_?void 0:_.find((function(n){return n.id===e}))}(JSON.parse(e).id.replace(/^"|"$/g,""));return d(n),function(){d(null)}})),(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(s.Z,{title:"Phonebook",children:(0,u.jsx)(i.Z,(0,a.Z)({},t))})})}}}]);
//# sourceMappingURL=ContactsEditPage.f516f959.chunk.js.map