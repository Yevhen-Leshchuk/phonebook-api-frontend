"use strict";(self.webpackChunkphonebook_api_frontend=self.webpackChunkphonebook_api_frontend||[]).push([[526],{3724:function(n,e,t){t.d(e,{Z:function(){return N}});var o=t(1413),r=t(885),c=t(6871),a=t(2791),i=t(5705),s=t(3284),u=t(5984),l=t(1538),d=t(7211),f=t(3541),m=t(219),h="ContactForm_contactFormBox__f55xA",x="ContactForm_title__jZguf",_="ContactForm_form__dhl+T",p="ContactForm_label__-cVXI",v="ContactForm_nameLabel__+PeHB ContactForm_label__-cVXI",b="ContactForm_input__Bl93P",C="ContactForm_button__eSwX9",g="ContactForm_textButton__zEgj3",j="ContactForm_error__C1smZ",Z=t(3329),w=s.Ry({name:s.Z_().min(3,"must be at least 3 characters long").max(10,"must  be no more than 10 characters long").required("Required"),number:s.Z_().min(7,"must be 7 characters long").max(10,"must  be no more than 10 characters long").required("Required")});function N(n){var e=n.id,t=(0,c.s0)(),s=(0,f.e9)({fixedCacheKey:"shared-logIn"}),N=(0,r.Z)(s,2),k=N[0],F=N[1].data;console.log(k);var y=null===F||void 0===F?void 0:F.token,B=(0,l.Jx)(y).data,S=(0,l.Tn)(),P=(0,r.Z)(S,2),E=P[0],I=P[1],T=I.data,X=I.isLoading,q=(0,l.wv)(),A=(0,r.Z)(q,2),J=A[0],K=A[1].originalArgs,L=(0,u.x0)(),Y=(0,u.x0)();(0,a.useEffect)((function(){T&&(0,d.rY)()}),[T]),(0,a.useEffect)((function(){K&&(0,d.pK)()}),[K]);var R={name:"",number:"",token:y};return(0,Z.jsxs)("div",{className:h,children:[(0,Z.jsx)("h2",{className:x,children:"Phonebook"}),(0,Z.jsx)(i.J9,{initialValues:R,validationSchema:w,onSubmit:function(n,r){var c=r.resetForm,a=(0,o.Z)((0,o.Z)({},n),{},{id:e});if(void 0!==a.id)J(a),t("/contacts"),c();else{if(function(n){var e=n.toLowerCase();return null===B||void 0===B?void 0:B.find((function(n){return n.name.toLowerCase()===e}))}(n.name))return void(0,d.Bh)();if(function(n){var e=n;return null===B||void 0===B?void 0:B.find((function(n){return n.number===e}))}(n.number))return void(0,d.BX)();E(n)}c()},children:(0,Z.jsxs)(i.l0,{className:_,children:[(0,Z.jsx)("label",{className:v,htmlFor:L,children:"Name"}),(0,Z.jsx)(i.gN,{className:b,type:"text",name:"name",placeholder:"Name",id:L}),(0,Z.jsx)("p",{className:j,children:(0,Z.jsx)(i.Bc,{name:"name"})}),(0,Z.jsx)("label",{className:p,htmlFor:Y,children:"Phone"}),(0,Z.jsx)(i.gN,{className:b,type:"tel",name:"number",placeholder:"Phone",id:Y}),(0,Z.jsx)("p",{className:j,children:(0,Z.jsx)(i.Bc,{name:"number"})}),(0,Z.jsxs)("button",{className:C,type:"submit",disabled:X,children:[(0,Z.jsx)("span",{className:g,children:"Save contact"}),X&&(0,Z.jsx)(m.Z,{})]})]})})]})}},219:function(n,e,t){t.d(e,{Z:function(){return c}});var o=t(3545),r=t(3329),c=function(){return(0,r.jsx)("div",{children:(0,r.jsx)(o.s5,{strokeColor:"#204454",width:30,height:30})})}},7211:function(n,e,t){t.d(e,{Bh:function(){return r},BX:function(){return c},rY:function(){return a},pK:function(){return i},u4:function(){return s},fA:function(){return u},Y6:function(){return l},SC:function(){return d},Wr:function(){return f}});var o=t(6708),r=(t(8435),t(1525),function(){(0,o.notice)({text:"This name already exists",width:"370px"})}),c=function(){(0,o.notice)({text:"This phone already exists",width:"370px"})},a=function(){(0,o.success)({text:"Contact added successfully!",width:"370px"})},i=function(){(0,o.success)({text:"Contact successfully updated!",width:"370px"})},s=function(){(0,o.success)({text:"Contact successfully removed!",width:"370px"})},u=function(){(0,o.success)({text:"Welcome to the phonebook!",width:"370px"})},l=function(){(0,o.success)({text:"You are successfully registered! To enter the phonebook, please sign in.",width:"370px"})},d=function(){(0,o.error)({text:"This user already exists!",width:"370px"})},f=function(){(0,o.error)({text:"Incorrect email or password!",width:"370px"})}},4836:function(n,e,t){t.d(e,{Z:function(){return r}});var o=t(3329),r=function(n){var e=n.children;return(0,o.jsx)("section",{children:e})}},8835:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var o=t(1413),r=t(885),c=t(2791),a=t(6871),i=t(4836),s=t(3724),u=t(1538),l=t(3541),d="ContactsEditPage_contactFormBox__Cd9ZS",f="ContactsEditPage_goBackBtn__9mA0w",m=t(3329),h=function(){var n=(0,a.s0)(),e=(0,c.useState)(null),t=(0,r.Z)(e,2),h=t[0],x=t[1],_=(0,l.e9)({fixedCacheKey:"shared-logIn"}),p=(0,r.Z)(_,2),v=p[0],b=p[1].data;console.log(v);var C=null===b||void 0===b?void 0:b.token,g=(0,u.Jx)(C).data;return(0,c.useEffect)((function(){var n=localStorage.getItem("persist:updateContact"),e=function(n){return null===g||void 0===g?void 0:g.find((function(e){return e.id===n}))}(JSON.parse(n).id.replace(/^"|"$/g,""));return x(e),function(){x(null)}}),[g]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:d,children:(0,m.jsx)(i.Z,{children:(0,m.jsx)(s.Z,(0,o.Z)({},h))})}),(0,m.jsx)("button",{className:f,type:"button",onClick:function(){return n(-1)},children:"Go back"})]})}}}]);
//# sourceMappingURL=ContactsEditPage.024d2d38.chunk.js.map